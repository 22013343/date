<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pick a Cuisine</title>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/emailjs-com@2.6.4/dist/email.min.js"></script>
    <style>
        body {
            text-align: center;
            font-family: Arial, sans-serif;
            background-color: #f8f9fa;
            padding: 20px;
        }
        h1 {
            margin-bottom: 20px;
        }
        .cuisine-container {
            display: flex;
            justify-content: center;
            gap: 30px;
            flex-wrap: wrap;
        }
        .cuisine {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            overflow: hidden;
            cursor: pointer;
            transition: transform 0.3s;
        }
        .cuisine img {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            object-fit: cover;
        }
        .cuisine:hover {
            transform: scale(1.1);
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);
            width: 300px;
            text-align: center;
        }
        .modal h2 {
            margin-bottom: 10px;
        }
        .modal input {
            margin: 5px;
        }
        .modal button {
            margin-top: 10px;
            padding: 10px 15px;
            font-size: 14px;
            cursor: pointer;
        }
        .overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
        }
    </style>
</head>
<body>
    <h1>What Cuisine Do You Prefer? üçΩÔ∏è</h1>
    
    <div class="cuisine-container">
        <!-- Western Cuisine -->
        <div class="cuisine" onclick="openModal('Western', ['Steakhouse', 'Cozy Cafe'])">
            <img src="western.jpeg" alt="Western Food">
        </div>

        <!-- Chinese Cuisine -->
        <div class="cuisine" onclick="openModal('Chinese', ['Dim Sum', 'Hotpot'])">
            <img src="chinese.jpg" alt="Chinese Food">
        </div>

        <!-- Japanese Cuisine -->
        <div class="cuisine" onclick="openModal('Japanese', ['Sushi Bar', 'Ramen House'])">
            <img src="japanese.jpg" alt="Japanese Food">
        </div>

        <!-- Korean Cuisine -->
        <div class="cuisine" onclick="openModal('Korean', ['Korean BBQ', 'Tteokbokki Street'])">
            <img src="korean.jpg" alt="Korean Food">
        </div>
    </div>

    <!-- Modal Popup -->
    <div class="overlay" id="overlay" onclick="closeModal()"></div>
    <div class="modal" id="modal">
        <h2 id="modalTitle"></h2>
        <form id="restaurantForm">
            <div id="restaurantOptions"></div>
            <button type="button" onclick="confirmChoice()">Confirm Selection</button>
        </form>
    </div>

    <script>
        // Initialize EmailJS with your user ID (you will get this after signing up)
        emailjs.init('date_cupid');

        function openModal(cuisine, options) {
            document.getElementById('modalTitle').textContent = `Choose a ${cuisine} Restaurant`;
            let optionsHTML = '';
            options.forEach(option => {
                optionsHTML += `<label><input type="radio" name="restaurant" value="${option}"> ${option}</label><br>`;
            });
            document.getElementById('restaurantOptions').innerHTML = optionsHTML;
            document.getElementById('modal').style.display = 'block';
            document.getElementById('overlay').style.display = 'block';
        }

        function closeModal() {
            document.getElementById('modal').style.display = 'none';
            document.getElementById('overlay').style.display = 'none';
        }

        function confirmChoice() {
            const selectedRestaurant = document.querySelector('input[name="restaurant"]:checked');
            if (selectedRestaurant) {
                alert(`Great choice! We are going to ${selectedRestaurant.value} üçΩÔ∏è`);
                sendEmail(selectedRestaurant.value); // Send email after selection
                closeModal();
            } else {
                alert("Please select a restaurant üòä");
            }
        }

        // Function to send email using EmailJS
        function sendEmail(restaurant) {
            const templateParams = {
                to_email: 'dariustan122@gmail.com', // Your email address
                restaurant: restaurant,
                message: `The selected restaurant for the date is: ${restaurant}`
            };

            emailjs.send('service_i3vqgir', 'template_phrcgtb', templateParams)
                .then(function(response) {
                    console.log('Email sent successfully', response);
                }, function(error) {
                    console.log('Error sending email', error);
                });
        }
    </script>
</body>
</html>
